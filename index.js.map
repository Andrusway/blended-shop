{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/modal.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["// https://dummyjson.com/docs/products - документація бекенду, розділ продукти\n// https://dummyjson.com/products?limit=10&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nexport const BASE_URL = 'https://dummyjson.com';\nexport const PER_PAGE = 12;\nexport const IS_OPEN = 'modal--is-open';\n\nexport const ENDPOINTS = {\n  CATEGORIES: '/products/category-list',\n  PRODUCTS: '/products',\n  PRODUCT: '/products',\n};\n","import axios from 'axios';\nimport { BASE_URL, ENDPOINTS, PER_PAGE } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function fetchCategories() {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n}\n\nexport async function fetchProducts(currentPage) {\n  const parameters = {\n    params: {\n      skip: (currentPage - 1) * PER_PAGE,\n      limit: PER_PAGE,\n    },\n  };\n  const { data } = await axios(ENDPOINTS.PRODUCTS, parameters);\n  return data;\n}\n\nexport async function fetchProduct(productId) {\n  const { data } = await axios(`${ENDPOINTS.PRODUCTS}/${productId}`);\n  return data;\n}","export const refs = {\n  body: document.querySelector('body'),\n  categoryList: document.querySelector('.categories'),\n  productList: document.querySelector('ul.products'),\n  modal: document.querySelector('div.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  backdrop: document.querySelector('.modal__backdrop'),\n};\n","import { refs } from './refs';\n\nexport function renderCategories(data) {\n  const markup = data\n    .map(\n      el => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${el}</button>\n </li>`\n    )\n    .join('');\n  refs.categoryList.innerHTML = markup;\n}\n\n\n\nexport function renderProducts(data) {\n  const markup = data.products\n    .map(\n      product =>\n        `<li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"product image\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: </span>${product.brand}</p>\n    <p class=\"products__category\">Category: ${product.category}</p>\n    <p class=\"products__price\">Price: $${product.price}</p>\n </li>`\n    )\n    .join('');\n  refs.productList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function clearProducts() {\n  refs.productList.innerHTML = '';\n}\n","import { refs } from './refs.js';\nimport { IS_OPEN } from './constants.js';\n\nexport function openModal() {\n  refs.body.style.overflow = 'hidden';\n  refs.modal.classList.add(IS_OPEN);\n  document.addEventListener(\"keydown\", handleEscape);\n}\n\nexport function closeModal() {\n  refs.body.style.overflow = '';\n  refs.modal.classList.remove(IS_OPEN);\n  document.removeEventListener(\"keydown\", handleEscape);\n}\n\nfunction handleEscape(e) {\n  if (e.key === \"Escape\") {\n    closeModal();\n  }\n}","import { fetchCategories, fetchProduct, fetchProducts } from './products-api';\nimport {\n  renderCategories,\n  renderProducts,\n} from './render-function';\nimport { openModal } from './modal.js';\n\nexport async function getCategories() {\n  try {\n    const categories = await fetchCategories();\n    renderCategories(['All', ...categories]);\n    const firstBtn = document.querySelector('.categories__btn');\n    if (firstBtn) {\n      firstBtn.classList.add('categories__btn--active');\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getProducts(currentPage) {\n  try {\n    const products = await fetchProducts(currentPage);\n    renderProducts(products);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport function categoriesOnClick() {\n  \n}\n\nexport async function getProduct(productId) {\n  try {\n    const product = await fetchProduct(productId);\n    renderProduct(product);\n    openModal();\n  } catch (error) {\n    console.log(error);\n  }\n}","import { getCategories, getProduct, getProducts } from './js/handlers';\nimport { refs } from './js/refs.js';\nimport { closeModal, openModal } from './js/modal.js';\n\n//Логіка сторінки Home\ngetCategories();\ngetProducts(1);\n\nrefs.categoryList.addEventListener('click' ,  (event) => {\n    if(!event.target.classList(\"categories__btn\")) {return}\n\n    \n  })\nrefs.productList.addEventListener('click', (e) => {\n  if (e.target === e.currentTarget) return;\n  const productId = e.target.closest('.products__item').dataset.id;\n\n  getProduct(productId);\n  // openModal();\n})\n\nrefs.modal.addEventListener('click', (e) => {\n  if (e.target === e.currentTarget) closeModal();\n})\n\nrefs.modalCloseBtn.addEventListener('click', (e) => {\n  closeModal();\n})\n"],"names":["BASE_URL","PER_PAGE","IS_OPEN","ENDPOINTS","axios","fetchCategories","data","fetchProducts","currentPage","parameters","fetchProduct","productId","refs","renderCategories","markup","el","renderProducts","product","openModal","handleEscape","closeModal","e","getCategories","categories","firstBtn","error","getProducts","products","getProduct","event"],"mappings":"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"}